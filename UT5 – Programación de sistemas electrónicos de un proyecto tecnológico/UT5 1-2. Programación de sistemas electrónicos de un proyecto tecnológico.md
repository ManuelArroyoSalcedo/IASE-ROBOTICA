# UT5 – Programación de sistemas/circuitos electrónicos de un proyecto tecnológico

---

## Índice de contenidos

1. **Conceptos básicos de microcontroladores**
2. **Uso del entorno de programación de sistemas electrónicos**
3. Estructura de un programa para sistemas electrónicos
4. Fundamentos del lenguaje de programación
5. Programación de la comunicación con la placa
6. Análisis del funcionamiento de programas de sistemas electrónicos


---

## 1. Conceptos básicos de microcontroladores

---

### Índice del apartado

1. [¿Qué es un microcontrolador?](#11-qué-es-un-microcontrolador)  
2. [Diferencia entre microcontrolador y microprocesador](#12-diferencia-entre-microcontrolador-y-microprocesador)  
3. [El microcontrolador en un sistema electrónico](#13-el-microcontrolador-en-un-sistema-electrónico)  
4. [Entradas y salidas (E/S)](#14-entradas-y-salidas-es)  
5. [El microcontrolador Arduino](#15-el-microcontrolador-arduino)  
6. [Programación de un microcontrolador](#16-programación-de-un-microcontrolador)  
7. [Aplicaciones habituales de los microcontroladores](#17-aplicaciones-habituales-de-los-microcontroladores)

---

### 1.1. ¿Qué es un microcontrolador?

Un **microcontrolador** es un circuito integrado programable que integra en un único dispositivo:

- Un **procesador** (CPU).
- **Memoria** para almacenar el programa y los datos.
- **Entradas y salidas** para interactuar con el exterior.

Su función principal es **controlar sistemas electrónicos**, tomando decisiones a partir de entradas (sensores, pulsadores, señales eléctricas) y actuando sobre salidas (LEDs, motores, relés, zumbadores, etc.) mediante un programa previamente cargado.

Los microcontroladores se utilizan ampliamente en **automatización, robótica, domótica y sistemas empotrados**.


### 1.2. Diferencia entre microcontrolador y microprocesador

Aunque ambos procesan información, existen diferencias claras:

| Microcontrolador | Microprocesador |
|------------------|-----------------|
| Incluye CPU, memoria y E/S | Solo incluye la CPU |
| Diseñado para tareas concretas | Diseñado para sistemas generales |
| Bajo consumo | Mayor consumo |
| Usado en sistemas electrónicos | Usado en ordenadores |

En robótica y electrónica educativa se emplean **microcontroladores**, no microprocesadores.


### 1.3. El microcontrolador en un sistema electrónico

Dentro de un sistema electrónico, el microcontrolador actúa como el **elemento central de control**.

Su funcionamiento básico es:

1. Lee las **entradas** (sensores, pulsadores, señales).
2. Ejecuta un **programa** almacenado en su memoria.
3. Activa o desactiva las **salidas** según la lógica programada.

De este modo, el comportamiento del sistema depende completamente del **software** cargado en el microcontrolador.


### 1.4. Entradas y salidas (E/S)

Los microcontroladores disponen de **pines de entrada y salida** que les permiten **intercambiar información con el exterior** en forma de **señales eléctricas**.

Desde el punto de vista del microcontrolador, **solo existen señales eléctricas**, independientemente del dispositivo que las genere o las utilice.


#### 1.4.1. Entradas

Las **entradas** son pines por los que el microcontrolador **recibe información** del exterior.

Dicha información se presenta siempre como una **señal eléctrica**, cuyo valor es interpretado por el microcontrolador según su tipo:

- Nivel lógico (0 o 1).
- Valor analógico dentro de un rango.

Dispositivos externos como pulsadores o sensores **no son entradas en sí mismos**, sino **elementos que generan señales eléctricas** que se conectan a los pines de entrada del microcontrolador.

#### 1.4.2. Salidas

Las **salidas** son pines por los que el microcontrolador **envía señales eléctricas** al exterior para controlar otros elementos del sistema.

Estas señales permiten activar, desactivar o regular dispositivos externos mediante:

- Cambios de nivel lógico.
- Variación del valor de la señal.

Los elementos conectados a las salidas (LEDs, motores, relés, zumbadores, etc.) **responden al estado de la señal**, pero no forman parte del microcontrolador.

#### 1.4.3. Tipos de señales de entrada y salida

Las entradas y salidas de un microcontrolador pueden trabajar con dos tipos de señales:

- **Señales digitales**  
  Solo pueden tomar dos valores:
  - 0 → nivel bajo  
  - 1 → nivel alto  

- **Señales analógicas**  
  Pueden tomar valores variables dentro de un rango continuo, representando magnitudes como intensidad de luz, temperatura o posición.

El tipo de señal determina cómo el microcontrolador interpreta la información o actúa sobre el sistema electrónico.

### 1.5. El microcontrolador Arduino

En este módulo se trabajará principalmente con **placas Arduino**, que integran un microcontrolador y facilitan su programación y conexión.

Una placa Arduino incluye:
- Un microcontrolador.
- Pines de entrada y salida.
- Conector USB para programación.
- Regulador de tensión y componentes auxiliares.

Arduino permite:
- Programar de forma sencilla.
- Probar rápidamente circuitos electrónicos.
- Aprender programación aplicada a sistemas reales.

### 1.6. Programación de un microcontrolador

El microcontrolador ejecuta instrucciones de forma secuencial siguiendo un **programa** almacenado en su memoria.

Este programa define:
- Qué entradas se leen.
- Qué decisiones se toman.
- Qué salidas se activan.

El programa se carga en la memoria del microcontrolador y se ejecuta de forma repetitiva mientras el sistema esté alimentado.

Como consecuencia, en los sistemas electrónicos programables el comportamiento del sistema **no depende únicamente del circuito**, sino del **programa que ejecuta el microcontrolador**.

El hardware proporciona los elementos físicos (sensores, actuadores y conexiones), mientras que el software define el comportamiento del sistema.

De este modo, un mismo circuito puede presentar comportamientos completamente distintos modificando únicamente el programa, sin necesidad de cambiar el hardware.


### 1.7. Aplicaciones habituales de los microcontroladores

Los microcontroladores se utilizan en:

- Sistemas robóticos.
- Automatización industrial básica.
- Domótica (control de luces, persianas, sensores).
- Electrodomésticos.
- Dispositivos electrónicos de uso cotidiano.

En este módulo se emplearán para **controlar sensores y actuadores dentro de proyectos tecnológicos**.

---

## 2. Uso del entorno de programación de sistemas electrónicos

El desarrollo de programas para sistemas electrónicos se realiza mediante un **entorno de programación**, que permite escribir el código, cargarlo en el microcontrolador y comprobar su funcionamiento.

En este módulo se utilizará un entorno de programación orientado a **microcontroladores**, especialmente diseñado para facilitar el aprendizaje y la interacción con el hardware.

---

### Índice del apartado

1. [¿Qué es un entorno de programación?](#21-qué-es-un-entorno-de-programación)  
2. [Entorno de programación de Arduino](#22-entorno-de-programación-de-arduino)  
3. [Elementos principales del entorno de programación](#23-elementos-principales-del-entorno-de-programación)  
4. [Estructura básica de un programa](#24-estructura-básica-de-un-programa)  
5. [Proceso de desarrollo de un programa](#25-proceso-de-desarrollo-de-un-programa)  
6. [Importancia del entorno de programación](#26-importancia-del-entorno-de-programación)

---

### 2.1. ¿Qué es un entorno de programación?

Un **entorno de programación** es un conjunto de herramientas software que permite:

- Escribir el programa que ejecutará el microcontrolador.
- Compilar el código para adaptarlo al dispositivo.
- Cargar el programa en el microcontrolador.
- Detectar errores básicos durante el desarrollo.

El entorno actúa como intermediario entre el **programador** y el **microcontrolador**.

### 2.2. Entorno de programación de Arduino

El entorno de programación utilizado habitualmente con Arduino es el **IDE de Arduino**, que proporciona una interfaz sencilla y adaptada a sistemas electrónicos.

Este entorno permite trabajar de forma integrada con:
- El código del programa.
- La configuración de la placa.
- La carga del programa mediante conexión USB.

Su objetivo principal es **simplificar el proceso de programación** de sistemas electrónicos.

### 2.3. Elementos principales del entorno de programación

El entorno de programación de sistemas electrónicos suele incluir los siguientes elementos:

- **Editor de código**: zona donde se escribe el programa.
- **Herramientas de compilación**: verifican que el programa no contiene errores básicos.
- **Herramientas de carga**: transfieren el programa al microcontrolador.
- **Mensajes de estado**: informan sobre errores o ejecución correcta.

Estos elementos permiten desarrollar programas de forma controlada y progresiva.

### 2.4. Estructura básica de un programa

Los programas para microcontroladores siguen una **estructura básica**, que define cómo y cuándo se ejecuta el código.

De forma general, un programa incluye:
- Una parte de **inicialización**, donde se preparan los elementos del sistema.
- Una parte de **ejecución**, que se repite continuamente mientras el sistema esté en funcionamiento.

Esta estructura garantiza que el microcontrolador pueda reaccionar de forma constante a las señales de entrada.

### 2.5. Proceso de desarrollo de un programa

El desarrollo de un programa para un sistema electrónico sigue normalmente los siguientes pasos:

1. Escritura del programa en el entorno de programación.
2. Verificación del código para detectar errores.
3. Carga del programa en el microcontrolador.
4. Prueba del funcionamiento del sistema.
5. Corrección y mejora del programa si es necesario.

Este proceso se repite hasta que el sistema se comporta de la forma deseada.

### 2.6. Importancia del entorno de programación

El entorno de programación es una herramienta fundamental porque:

- Facilita el aprendizaje de la programación aplicada.
- Permite modificar el comportamiento del sistema sin cambiar el hardware.
- Ayuda a detectar errores de forma temprana.
- Simplifica el desarrollo de proyectos tecnológicos.

Gracias al entorno de programación, es posible centrarse en el **comportamiento del sistema electrónico** y no en los detalles internos del microcontrolador.
